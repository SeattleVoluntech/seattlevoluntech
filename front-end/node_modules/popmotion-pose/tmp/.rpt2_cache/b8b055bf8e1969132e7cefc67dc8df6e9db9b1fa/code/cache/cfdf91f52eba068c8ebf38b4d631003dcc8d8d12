{"code":"import * as tslib_1 from \"tslib\";\r\nimport { action, spring, tween, pointer, transform } from 'popmotion';\r\nimport { linear } from '@popmotion/easing';\r\nimport { BoundingBoxDimension } from '../types';\r\nimport { percent } from 'style-value-types';\r\nimport { resolveProp } from '../dom/utils';\r\nvar interpolate = transform.interpolate;\r\nvar singleAxisPointer = function (axis) { return function (from, directionLock, scrollUntilDragDirection) {\r\n    return action(function (_a) {\r\n        var update = _a.update;\r\n        var _b;\r\n        var initialAxisPos = typeof from === 'string' ? parseFloat(from) : from;\r\n        var active;\r\n        var stop = function () { return active && active.stop(); };\r\n        var start = function (props, toUpdate) {\r\n            stop();\r\n            active = pointer(props).start(toUpdate);\r\n        };\r\n        if (!directionLock && !scrollUntilDragDirection) {\r\n            start((_b = {}, _b[axis] = initialAxisPos, _b), update);\r\n        }\r\n        else {\r\n            var otherAxis_1 = axis === 'x' ? 'y' : 'x';\r\n            start({ x: 0, y: 0, preventDefault: !scrollUntilDragDirection }, function (v) {\r\n                var _a;\r\n                var absAxis = Math.abs(v[axis]);\r\n                var absOtherAxis = Math.abs(v[otherAxis_1]);\r\n                if (absAxis > absOtherAxis) {\r\n                    start((_a = {}, _a[axis] = initialAxisPos + v[axis], _a), update);\r\n                }\r\n                else if (absOtherAxis > absAxis) {\r\n                    stop();\r\n                }\r\n            });\r\n        }\r\n        return { stop: stop };\r\n    }).pipe(function (v) { return v[axis]; });\r\n}; };\r\nvar pointerX = singleAxisPointer('x');\r\nvar pointerY = singleAxisPointer('y');\r\nvar createPointer = function (axisPointerCreator, min, max, measurement) { return function (transitionProps) {\r\n    var from = transitionProps.from, type = transitionProps.type, dimensions = transitionProps.dimensions, dragBounds = transitionProps.dragBounds, directionLock = transitionProps.directionLock, scrollUntilDragDirection = transitionProps.scrollUntilDragDirection;\r\n    var axisPointer = axisPointerCreator(dimensions.measurementAsPixels(measurement, from, type), directionLock, scrollUntilDragDirection);\r\n    var transformQueue = [];\r\n    if (dragBounds) {\r\n        var resolvedDragBounds_1 = resolveProp(dragBounds, transitionProps);\r\n        if (resolvedDragBounds_1[min] !== undefined) {\r\n            transformQueue.push(function (v) {\r\n                return Math.max(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[min], type));\r\n            });\r\n        }\r\n        if (resolvedDragBounds_1[max] !== undefined) {\r\n            transformQueue.push(function (v) {\r\n                return Math.min(v, dimensions.measurementAsPixels(measurement, resolvedDragBounds_1[max], type));\r\n            });\r\n        }\r\n    }\r\n    if (type === percent) {\r\n        transformQueue.push(interpolate([0, dimensions.get(measurement)], [0, 100]), function (v) { return v + '%'; });\r\n    }\r\n    return transformQueue.length\r\n        ? axisPointer.pipe.apply(axisPointer, transformQueue) : axisPointer;\r\n}; };\r\nexport var just = function (from) {\r\n    return action(function (_a) {\r\n        var update = _a.update, complete = _a.complete;\r\n        update(from);\r\n        complete();\r\n    });\r\n};\r\nvar underDampedSpring = function (_a) {\r\n    var from = _a.from, velocity = _a.velocity, to = _a.to;\r\n    return spring({\r\n        from: from,\r\n        to: to,\r\n        velocity: velocity,\r\n        stiffness: 500,\r\n        damping: 25,\r\n        restDelta: 0.5,\r\n        restSpeed: 10\r\n    });\r\n};\r\nvar overDampedSpring = function (_a) {\r\n    var from = _a.from, velocity = _a.velocity, to = _a.to;\r\n    return spring({ from: from, to: to, velocity: velocity, stiffness: 700, damping: to === 0 ? 100 : 35 });\r\n};\r\nvar linearTween = function (_a) {\r\n    var from = _a.from, to = _a.to;\r\n    return tween({ from: from, to: to, ease: linear });\r\n};\r\nvar intelligentTransition = {\r\n    x: underDampedSpring,\r\n    y: underDampedSpring,\r\n    z: underDampedSpring,\r\n    rotate: underDampedSpring,\r\n    rotateX: underDampedSpring,\r\n    rotateY: underDampedSpring,\r\n    rotateZ: underDampedSpring,\r\n    scaleX: overDampedSpring,\r\n    scaleY: overDampedSpring,\r\n    scale: overDampedSpring,\r\n    opacity: linearTween,\r\n    default: tween\r\n};\r\nvar dragAction = tslib_1.__assign({}, intelligentTransition, { x: createPointer(pointerX, 'left', 'right', BoundingBoxDimension.width), y: createPointer(pointerY, 'top', 'bottom', BoundingBoxDimension.height) });\r\nvar justAxis = function (_a) {\r\n    var from = _a.from;\r\n    return just(from);\r\n};\r\nvar intelligentDragEnd = tslib_1.__assign({}, intelligentTransition, { x: justAxis, y: justAxis });\r\nexport default new Map([\r\n    ['default', intelligentTransition],\r\n    ['drag', dragAction],\r\n    ['dragEnd', intelligentDragEnd]\r\n]);\r\n//# sourceMappingURL=default-transitions.js.map","map":"{\"version\":3,\"file\":\"default-transitions.js\",\"sourceRoot\":\"\",\"sources\":[\"../src/inc/default-transitions.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/Users/mattperry/Sites/popmotion/packages/popmotion-pose/inc/default-transitions.d.ts","text":"import { Action } from 'popmotion';\r\nimport { TransitionMap } from 'pose-core';\r\nimport { Transition } from '../types';\r\nexport declare const just: (from: any) => Action;\r\ndeclare const _default: Map<string, Transition | TransitionMap<Action>>;\r\nexport default _default;\r\n"}}
